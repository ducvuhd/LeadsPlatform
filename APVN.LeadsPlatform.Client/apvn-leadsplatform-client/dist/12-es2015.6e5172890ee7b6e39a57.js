(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"1SVu":function(t,e,c){"use strict";c.r(e),c.d(e,"DailyWorkTimeModule",function(){return R});var i=c("tyNb"),n=c("AytR"),a=c("fXoL"),s=c("N+K7");let l=(()=>{class t{constructor(t){this.httpService=t}getList(t){return this.httpService.doPost(n.a.API_URL+"/daily-work-time/get-list",t)}init(){return this.httpService.doGet(n.a.API_URL+"/daily-work-time/init")}getDepartment(t){return this.httpService.doGet(n.a.API_URL+"/daily-work-time/get-department/"+t)}getUsers(t){return this.httpService.doGet(n.a.API_URL+"/daily-work-time/get-users/"+t)}}return t.\u0275fac=function(e){return new(e||t)(a.kc(s.a))},t.\u0275prov=a.Wb({token:t,factory:t.\u0275fac}),t})();var o=c("Sw6W");class f{constructor(){this.listWorkTime=[]}}class r{constructor(){this.employeeId=0}}class g{constructor(){this.listCity=[],this.listDepartment=[],this.lstUsers=[]}}class d{constructor(){}}var h=c("5eHb"),p=c("3Pt+"),m=c("ofXK");function y(t,e){if(1&t&&(a.gc(0,"td",4),a.gc(1,"span",5),a.Uc(2,"Ng\xe0y l\xe0m vi\u1ec7c : "),a.fc(),a.Uc(3),a.sc(4,"date"),a.fc()),2&t){const t=a.rc().$implicit;a.Pb("rowspan",t.rowSpan),a.Ob(3),a.Wc("",a.uc(4,2,t.workDate,"dd/MM/yyyy")," ")}}function u(t,e){1&t&&(a.gc(0,"span"),a.Uc(1,"-"),a.fc())}function b(t,e){if(1&t&&(a.gc(0,"span",9),a.Uc(1),a.sc(2,"date"),a.Sc(3,u,2,0,"span",10),a.Uc(4),a.sc(5,"date"),a.fc()),2&t){const t=a.rc(2).$implicit;a.Ob(1),a.Wc(" ",a.uc(2,3,t.startTime,"HH:mm")," "),a.Ob(2),a.yc("ngIf",null!=t.endTime),a.Ob(1),a.Wc(" ",a.uc(5,6,t.endTime,"HH:mm")," ")}}function v(t,e){if(1&t&&(a.gc(0,"span",9),a.Uc(1),a.fc()),2&t){const t=a.rc(2).$implicit;a.Ob(1),a.Wc(" ",""==t.shiftCompensateOffTypeName?"":"("+t.shiftCompensateOffTypeName+")"," ")}}function D(t,e){if(1&t&&(a.gc(0,"td",4),a.gc(1,"span",5),a.Uc(2,"Th\u1eddi gian : "),a.fc(),a.Sc(3,b,6,9,"span",17),a.Sc(4,v,2,1,"span",17),a.fc()),2&t){const t=a.rc().$implicit;a.Ob(3),a.yc("ngIf",null!=t.startTime||null!=t.endTime),a.Ob(1),a.yc("ngIf",""!=t.shiftCompensateOffTypeName)}}function C(t,e){1&t&&(a.gc(0,"span"),a.Uc(1,"-"),a.fc())}function U(t,e){if(1&t&&(a.gc(0,"td",4),a.gc(1,"span",5),a.Uc(2,"Th\u1eddi gian : "),a.fc(),a.gc(3,"span",18),a.Uc(4),a.sc(5,"date"),a.Sc(6,C,2,0,"span",10),a.Uc(7),a.sc(8,"date"),a.fc(),a.fc()),2&t){const t=a.rc(2).$implicit;a.Ob(4),a.Wc(" ",a.uc(5,3,t.startTime,"HH:mm")," "),a.Ob(2),a.yc("ngIf",null!=t.endTime),a.Ob(1),a.Wc(" ",a.uc(8,6,t.endTime,"HH:mm")," ")}}function I(t,e){if(1&t&&a.Sc(0,U,9,9,"td",13),2&t){const t=a.rc().$implicit,e=a.Ic(20);a.yc("ngIf",!t.verifiedDay&&(null!=t.startTime||null!=t.endTime))("ngIfElse",e)}}function O(t,e){1&t&&(a.gc(0,"span",9),a.Uc(1," \u0110i l\xe0m "),a.fc())}const L=function(t,e){return{badge:!0,"badge-success":t,"badge-info":e}};function T(t,e){if(1&t&&(a.gc(0,"span",23),a.Uc(1),a.fc()),2&t){const t=a.rc(3).$implicit;a.yc("ngClass",a.Ec(2,L,101!=t.shiftOffType&&122!=t.shiftOffType,101==t.shiftOffType||122==t.shiftOffType)),a.Ob(1),a.Wc(" ",t.shiftOffTypeName," ")}}function S(t,e){if(1&t&&a.Sc(0,T,2,5,"span",22),2&t){a.rc();const t=a.Ic(7),e=a.rc().$implicit;a.yc("ngIf",e.isCalculateSalary)("ngIfElse",t)}}function w(t,e){if(1&t&&(a.gc(0,"span",24),a.Uc(1),a.fc()),2&t){const t=a.rc(2).$implicit;a.Ob(1),a.Wc(" ",t.shiftOffTypeName," ")}}function k(t,e){if(1&t&&(a.gc(0,"td",4),a.gc(1,"span",5),a.Uc(2,"Tr\u1ea1ng th\xe1i : "),a.fc(),a.Sc(3,O,2,0,"span",19),a.Sc(4,S,1,2,"ng-template",null,20,a.Tc),a.Sc(6,w,2,1,"ng-template",null,21,a.Tc),a.fc()),2&t){const t=a.Ic(5),e=a.rc().$implicit;a.Ob(3),a.yc("ngIf",0==e.leaveWorkType)("ngIfElse",t)}}function _(t,e){1&t&&(a.gc(0,"td",4),a.gc(1,"span",5),a.Uc(2,"Tr\u1ea1ng th\xe1i : "),a.fc(),a.gc(3,"span",18),a.Uc(4," Ch\u01b0a x\xe1c \u0111\u1ecbnh "),a.fc(),a.fc())}const E=function(t){return{"seperate-second":t}},P=function(t,e){return{badge:!0,"badge-danger":t,"badge-success":e}};function M(t,e){if(1&t&&(a.gc(0,"tr",11),a.Sc(1,y,5,5,"td",12),a.gc(2,"td",4),a.gc(3,"span",7),a.Uc(4),a.fc(),a.fc(),a.Sc(5,D,5,2,"td",13),a.Sc(6,I,1,2,"ng-template",null,14,a.Tc),a.gc(8,"td",4),a.gc(9,"span",5),a.Uc(10,"\u0110i mu\u1ed9n : "),a.fc(),a.gc(11,"span",6),a.Uc(12),a.fc(),a.fc(),a.gc(13,"td",4),a.gc(14,"span",5),a.Uc(15,"V\u1ec1 s\u1edbm : "),a.fc(),a.gc(16,"span",15),a.Uc(17),a.fc(),a.fc(),a.Sc(18,k,8,2,"td",13),a.Sc(19,_,5,0,"ng-template",null,16,a.Tc),a.fc()),2&t){const t=e.$implicit,c=a.Ic(7),i=a.Ic(20);a.yc("ngClass",a.Dc(11,E,t.isSecondRow)),a.Ob(1),a.yc("ngIf",t.rowSpan>0),a.Ob(3),a.Vc(t.shiftWorkCode),a.Ob(1),a.yc("ngIf",t.verifiedDay)("ngIfElse",c),a.Ob(6),a.yc("ngClass",a.Ec(13,P,t.totalLateMinute>0,0==t.totalLateMinute)),a.Ob(1),a.Vc(t.totalLateMinute),a.Ob(4),a.yc("ngClass",a.Ec(16,P,t.totalEarlyMinute>0,0==t.totalEarlyMinute)),a.Ob(1),a.Vc(t.totalEarlyMinute),a.Ob(1),a.yc("ngIf",t.verifiedDay)("ngIfElse",i)}}function W(t,e){if(1&t&&(a.gc(0,"tr"),a.bc(1,"td",3),a.bc(2,"td",3),a.bc(3,"td",3),a.gc(4,"td",4),a.gc(5,"span",7),a.Uc(6,"Ph\xe9p thai k\xec : "),a.fc(),a.gc(7,"span",8),a.Uc(8),a.fc(),a.fc(),a.gc(9,"td",3),a.gc(10,"span",9),a.Uc(11),a.fc(),a.fc(),a.bc(12,"td",3),a.fc()),2&t){const t=a.rc();a.Ob(8),a.Vc(t.leaveDays_PTL),a.Ob(3),a.Vc(t.leaveDays_PTL)}}function V(t,e){if(1&t&&(a.gc(0,"tr"),a.bc(1,"td",3),a.bc(2,"td",3),a.bc(3,"td",3),a.gc(4,"td",4),a.gc(5,"span",7),a.Uc(6,"Ph\xe9p \u01b0u \u0111\xe3i : "),a.fc(),a.gc(7,"span",8),a.Uc(8),a.fc(),a.fc(),a.gc(9,"td",3),a.gc(10,"span",9),a.Uc(11),a.fc(),a.fc(),a.bc(12,"td",3),a.fc()),2&t){const t=a.rc();a.Ob(8),a.Vc(t.leaveDays_SPL),a.Ob(3),a.Vc(t.leaveDays_SPL)}}let F=(()=>{class t{constructor(){}ngOnInit(){this.totalLate=0,this.totalEarly=0,this.leaveDays_AL=0,this.leaveDays_PTL=0,this.leaveDays_CL=0,this.leaveDays_SPL=0,this.minuteCompensation_CL=0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Ub({type:t,selectors:[["app-daily-work-back-office-list"]],inputs:{lstWorkTime:"lstWorkTime",totalLate:"totalLate",totalEarly:"totalEarly",leaveDays_AL:"leaveDays_AL",leaveDays_PTL:"leaveDays_PTL",leaveDays_CL:"leaveDays_CL",leaveDays_SPL:"leaveDays_SPL",minuteCompensation_CL:"minuteCompensation_CL"},decls:75,vars:19,consts:[[1,"table"],[1,"hide-element-phone"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"pull-left-phone","hide-element-in-phone"],[1,"pull-left-phone"],[1,"hide-element-out-phone","label-bold-550"],[1,"badge","badge-success",2,"font-size","0.875rem","font-weight","400","line-height","1.5",3,"ngClass"],[1,"label-bold-550"],[1,"hide-element-out-phone","badge","badge-success",2,"font-size","0.875rem","font-weight","400","line-height","1.5"],[1,"badge","badge-success",2,"font-size","0.875rem","font-weight","400","line-height","1.5"],[4,"ngIf"],[3,"ngClass"],["class","pull-left-phone",4,"ngIf"],["class","pull-left-phone",4,"ngIf","ngIfElse"],["undifineButWork",""],[1,"badge","badge-danger",2,"font-size","0.875rem","font-weight","400","line-height","1.5",3,"ngClass"],["undifineNotWork",""],["style","font-size: 0.875rem;font-weight: 400;line-height: 1.5;","class","badge badge-success",4,"ngIf"],[1,"badge","badge-warning",2,"font-size","0.875rem","font-weight","400","line-height","1.5","color","white"],["style","font-size: 0.875rem;font-weight: 400;line-height: 1.5;","class","badge badge-success",4,"ngIf","ngIfElse"],["lstOffInfo",""],["lstOffInfoNotCalculateSalary",""],["style","font-size: 0.875rem;font-weight: 400;line-height: 1.5;",3,"ngClass",4,"ngIf","ngIfElse"],[2,"font-size","0.875rem","font-weight","400","line-height","1.5",3,"ngClass"],[1,"badge","badge-danger",2,"font-size","0.875rem","font-weight","400","line-height","1.5"]],template:function(t,e){1&t&&(a.gc(0,"table",0),a.gc(1,"thead"),a.gc(2,"tr"),a.gc(3,"th",1),a.Uc(4,"Ng\xe0y l\xe0m vi\u1ec7c"),a.fc(),a.gc(5,"th",1),a.Uc(6,"M\xe3 ca"),a.fc(),a.gc(7,"th",1),a.Uc(8,"Th\u1eddi gian"),a.fc(),a.gc(9,"th",1),a.Uc(10,"\u0110i mu\u1ed9n "),a.fc(),a.gc(11,"th",1),a.Uc(12,"V\u1ec1 s\u1edbm "),a.fc(),a.gc(13,"th",1),a.Uc(14,"Tr\u1ea1ng th\xe1i"),a.fc(),a.fc(),a.fc(),a.gc(15,"tbody"),a.Sc(16,M,21,19,"tr",2),a.gc(17,"tr"),a.bc(18,"td",3),a.bc(19,"td",3),a.gc(20,"td",4),a.gc(21,"h3"),a.Uc(22,"T\u1ed5ng"),a.fc(),a.fc(),a.gc(23,"td",4),a.gc(24,"span",5),a.Uc(25,"\u0110i mu\u1ed9n : "),a.fc(),a.gc(26,"span",6),a.Uc(27),a.fc(),a.fc(),a.gc(28,"td",4),a.gc(29,"span",5),a.Uc(30,"V\u1ec1 s\u1edbm : "),a.fc(),a.gc(31,"span",6),a.Uc(32),a.fc(),a.fc(),a.bc(33,"td",3),a.fc(),a.gc(34,"tr"),a.bc(35,"td",3),a.bc(36,"td",3),a.bc(37,"td",3),a.gc(38,"td",4),a.gc(39,"span",7),a.Uc(40,"Ph\xe9p n\u0103m : "),a.fc(),a.gc(41,"span",8),a.Uc(42),a.fc(),a.fc(),a.gc(43,"td",3),a.gc(44,"span",9),a.Uc(45),a.fc(),a.fc(),a.bc(46,"td",3),a.fc(),a.Sc(47,W,13,2,"tr",10),a.gc(48,"tr"),a.bc(49,"td",3),a.bc(50,"td",3),a.bc(51,"td",3),a.gc(52,"td",4),a.gc(53,"span",7),a.Uc(54,"Ph\xe9p b\xf9 : "),a.fc(),a.gc(55,"span",8),a.Uc(56),a.fc(),a.fc(),a.gc(57,"td",3),a.gc(58,"span",9),a.Uc(59),a.fc(),a.fc(),a.bc(60,"td",3),a.fc(),a.Sc(61,V,13,2,"tr",10),a.gc(62,"tr"),a.bc(63,"td",3),a.bc(64,"td",3),a.bc(65,"td",3),a.gc(66,"td",4),a.gc(67,"span",7),a.Uc(68,"Ph\xfat b\xf9 : "),a.fc(),a.gc(69,"span",8),a.Uc(70),a.fc(),a.fc(),a.gc(71,"td",3),a.gc(72,"span",9),a.Uc(73),a.fc(),a.fc(),a.bc(74,"td",3),a.fc(),a.fc(),a.fc()),2&t&&(a.Ob(16),a.yc("ngForOf",e.lstWorkTime),a.Ob(10),a.yc("ngClass",a.Ec(13,P,e.totalLate>0,0==e.totalLate)),a.Ob(1),a.Vc(e.totalLate),a.Ob(4),a.yc("ngClass",a.Ec(16,P,e.totalEarly>0,0==e.totalEarly)),a.Ob(1),a.Vc(e.totalEarly),a.Ob(10),a.Vc(e.leaveDays_AL),a.Ob(3),a.Vc(e.leaveDays_AL),a.Ob(2),a.yc("ngIf",e.leaveDays_PTL>0),a.Ob(9),a.Vc(e.leaveDays_CL),a.Ob(3),a.Vc(e.leaveDays_CL),a.Ob(2),a.yc("ngIf",e.leaveDays_SPL>0),a.Ob(9),a.Vc(e.minuteCompensation_CL),a.Ob(3),a.Vc(e.minuteCompensation_CL))},directives:[m.l,m.k,m.m],pipes:[m.e],encapsulation:2}),t})();function N(t,e){if(1&t&&(a.gc(0,"option",14),a.Uc(1),a.fc()),2&t){const t=e.$implicit;a.zc("value",t.id),a.Ob(1),a.Vc(t.cityName)}}function $(t,e){if(1&t&&(a.gc(0,"option",14),a.Uc(1),a.fc()),2&t){const t=e.$implicit;a.zc("value",t.id),a.Ob(1),a.Vc(t.name)}}function z(t,e){if(1&t&&(a.gc(0,"option",14),a.Uc(1),a.fc()),2&t){const t=e.$implicit;a.zc("value",t.employeeId),a.Ob(1),a.Vc(t.userName)}}const A=[{path:"",component:(()=>{class t{constructor(t,e){this.dailyWorkTimeService=t,this.toastr=e,this.shiftEmployeeInfo=new f,this.filterCondition=new r,this.initData=new g,this.totalEarly=0,this.totalLate=0}ngOnInit(){let t=new Date;this.filterCondition.monthInFormat=t.getFullYear()+"-"+(t.getMonth()+1>10?t.getMonth()+1:"0"+(t.getMonth()+1)),this.dailyWorkTimeService.init().subscribe(t=>{null!=t&&(this.initData=t,null!=this.initData.listCity&&this.initData.listCity.length>0&&(this.filterCondition.cityId=this.initData.listCity[0].id),null!=this.initData.listDepartment&&this.initData.listDepartment.length>0&&(this.filterCondition.departmentId=this.initData.listDepartment[0].id),null!=this.initData.lstUsers&&this.initData.lstUsers.length>0&&(this.filterCondition.employeeId=this.initData.lstUsers[0].employeeId,this.search()))})}search(){this.totalLate=0,this.totalEarly=0,this.filterCondition.employeeId=parseInt(this.filterCondition.employeeId.toString(),10),this.filterCondition.month=parseInt(this.filterCondition.monthInFormat.replace("-",""),10),this.dailyWorkTimeService.getList(this.filterCondition).subscribe(t=>{if(t.code===o.a.Success){this.shiftEmployeeInfo=t.data;let e=[];this.shiftEmployeeInfo.listWorkTime.map((t,c)=>{let i=!1;for(let n=0;n<e.length;n++)e[n].key==t.workDate&&(i=!0);if(i){t.isFirst=!1;for(let c=0;c<e.length;c++)e[c].key==t.workDate&&(e[c].value+=1)}else{t.isFirst=!0;let c=new d;c.key=t.workDate,c.value=1,e.push(c)}}),this.shiftEmployeeInfo.listWorkTime.map((t,c)=>{for(let i=0;i<e.length;i++)e[i].key==t.workDate&&(t.rowSpan=t.isFirst?e[i].value:0,t.isSecondRow=i%2==1);this.totalLate+=t.totalLateMinute,this.totalEarly+=t.totalEarlyMinute})}else t.code===o.a.Error?this.toastr.error(t.message):this.toastr.warning(t.message)})}changeCity(t){this.dailyWorkTimeService.getDepartment(t).subscribe(t=>{this.initData.listDepartment=t.listDepartment,this.initData.lstUsers=t.lstUsers,null!=this.initData.listDepartment&&this.initData.listDepartment.length>0&&(this.filterCondition.departmentId=this.initData.listDepartment[0].id),null!=this.initData.lstUsers&&this.initData.lstUsers.length>0&&(this.filterCondition.employeeId=this.initData.lstUsers[0].employeeId)})}changeDepartment(t){this.dailyWorkTimeService.getUsers(t).subscribe(t=>{this.initData.lstUsers=t.lstUsers,null!=this.initData.lstUsers&&this.initData.lstUsers.length>0&&(this.filterCondition.employeeId=this.initData.lstUsers[0].employeeId)})}}return t.\u0275fac=function(e){return new(e||t)(a.ac(l),a.ac(h.b))},t.\u0275cmp=a.Ub({type:t,selectors:[["ng-component"]],features:[a.Nb([l])],decls:34,vars:15,consts:[[1,"animated","fadeIn"],[1,"row"],[1,"col-md-12","col-lg-12"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"col-sm-3"],[1,"form-group"],[1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["placeholder","Th\xe1ng","type","month",1,"form-control",2,"padding-right","0px",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-success",3,"click"],[1,"fa","fa-search"],[3,"totalLate","totalEarly","lstWorkTime","leaveDays_AL","leaveDays_PTL","leaveDays_CL","leaveDays_SPL","minuteCompensation_CL"],[3,"value"]],template:function(t,e){1&t&&(a.gc(0,"div",0),a.gc(1,"div",1),a.gc(2,"div",2),a.gc(3,"div",3),a.gc(4,"div",4),a.Uc(5,"T\xecm ki\u1ebfm"),a.fc(),a.gc(6,"div",5),a.gc(7,"div",1),a.gc(8,"div",6),a.gc(9,"div",7),a.gc(10,"select",8),a.nc("ngModelChange",function(t){return e.filterCondition.cityId=t})("ngModelChange",function(t){return e.changeCity(t)}),a.Sc(11,N,2,2,"option",9),a.fc(),a.fc(),a.fc(),a.gc(12,"div",6),a.gc(13,"div",7),a.gc(14,"select",8),a.nc("ngModelChange",function(t){return e.filterCondition.departmentId=t})("ngModelChange",function(t){return e.changeDepartment(t)}),a.Sc(15,$,2,2,"option",9),a.fc(),a.fc(),a.fc(),a.gc(16,"div",6),a.gc(17,"div",7),a.gc(18,"select",8),a.nc("ngModelChange",function(t){return e.filterCondition.employeeId=t}),a.Sc(19,z,2,2,"option",9),a.fc(),a.fc(),a.fc(),a.gc(20,"div",6),a.gc(21,"div",7),a.gc(22,"input",10),a.nc("ngModelChange",function(t){return e.filterCondition.monthInFormat=t}),a.fc(),a.fc(),a.fc(),a.gc(23,"div",6),a.gc(24,"div",7),a.gc(25,"button",11),a.nc("click",function(){return e.search()}),a.bc(26,"i",12),a.Uc(27," T\xecm ki\u1ebfm "),a.fc(),a.fc(),a.fc(),a.fc(),a.fc(),a.fc(),a.fc(),a.gc(28,"div",2),a.gc(29,"div",3),a.gc(30,"div",4),a.Uc(31,"Th\u1eddi gian ch\u1ea5m c\xf4ng"),a.fc(),a.gc(32,"div",5),a.bc(33,"app-daily-work-back-office-list",13),a.fc(),a.fc(),a.fc(),a.fc(),a.fc()),2&t&&(a.Ob(10),a.yc("ngModel",e.filterCondition.cityId),a.Ob(1),a.yc("ngForOf",e.initData.listCity),a.Ob(3),a.yc("ngModel",e.filterCondition.departmentId),a.Ob(1),a.yc("ngForOf",e.initData.listDepartment),a.Ob(3),a.yc("ngModel",e.filterCondition.employeeId),a.Ob(1),a.yc("ngForOf",e.initData.lstUsers),a.Ob(3),a.yc("ngModel",e.filterCondition.monthInFormat),a.Ob(11),a.yc("totalLate",e.totalLate)("totalEarly",e.totalEarly)("lstWorkTime",e.shiftEmployeeInfo.listWorkTime)("leaveDays_AL",e.shiftEmployeeInfo.leaveDays_AL)("leaveDays_PTL",e.shiftEmployeeInfo.leaveDays_PTL)("leaveDays_CL",e.shiftEmployeeInfo.leaveDays_CL)("leaveDays_SPL",e.shiftEmployeeInfo.leaveDays_SPL)("minuteCompensation_CL",e.shiftEmployeeInfo.minuteCompensation_CL))},directives:[p.v,p.m,p.p,m.l,p.c,F,p.q,p.y],encapsulation:2}),t})(),data:{title:"Th\xf4ng tin ch\u1ea5m c\xf4ng"}}];let H=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.Yb({type:t}),t.\u0275inj=a.Xb({imports:[[i.g.forChild(A)],i.g]}),t})(),R=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.Yb({type:t}),t.\u0275inj=a.Xb({imports:[[m.c,p.h,H]]}),t})()}}]);